# 数字识别算法介绍
- 本部分主要介绍本设计所采用的数字识别算法的工作原理。
- 目前，主流的印刷体数字的识别方法包括以下三种：模版匹配识别、BP 神经网络识别、特征匹配识别等。其中，模版匹配识别法的原理较为简单，但是对数字的规范化程度要求很高，否则准确率会很低；神经网络识别法是具有一定的抗干扰能力，且具有较高准确性，但是该算法需要大量的计算，复杂程度很高，不易实现；而特征匹配识别法的复杂程度相较神经网络识别法来说简单很多，但是可靠性高于模板匹配识别法，故本设计采用特征匹配识别法。
- 特征匹配识别法的主要原理是通过对数字的形状以及结构等几何特征进行分析与统计，通过对数字特征的识别从而达到对图像中数字的识别。其关键步骤就是提取数字的特征，选定需要提取的特征时必须要确保所选定的特征能够充分区别各个数字。
- 目前最常用的特征提取方式为“二横一纵”，即设置两条横向判定线X1、X2，一条纵向判定线Y，其中X1是竖直方向的2/5处的水平线，X2是竖直方向的2/3处的水平线，Y是水平方向的1/2处的竖直直线。随后，统计X1、X2、Y三条判定线与所需识别数字的交叉点数量及位置。
- 提取好了特征之后，就可以与预设好的特征匹配表进行匹配，选取最相近的数字作为识别结果。
## 识别原理
- 本部分主要介绍本设计所采用的数字识别算法的实现方式。
- 特征匹配识别法的算法实现主要有五个步骤：灰度化、二值化、分割、特征提取、特征匹配。
## 算法实现
### 灰度化
- 在本设计中，输入的视频图像信号为24位RGB888格式，为方便特征识别，同时压缩数据大小便于寄存器处理，需要将RGB888格式数据转化为0-1的二值数据，然而在二值化之前还必须进行灰度化。
- 本设计中灰度化的原理是，先按照转换公式，将RGB888格式信号转化为YCbCr格式数据，转换后，保留YCbCr数据的前八位，即“Y”的部分，就可以得到8位灰度数据。
### 二值化
- 完成灰度化之后就可以进行二值化。二值化的原理是设定阈值，灰度值高于阈值的点即为0（白），灰度值低于阈值的点即为1（黑）。在本设计中，设定阈值为64使，用了if语句对每个像素上的灰度数据进行了判断，并将其转化为0-1二值化数据。
### 分割
- 由于输入的视频图像中往往有多个数字，而特征识别只能针对单个数字进行，因此要对图像进行分割，其实现方法是，从左到右遍历图像的每一列像素，判断每一列像素是否全为0（白），若前一列全为0，而后一列不全为0，则此列可确定为边界。以此类推，确定每一个数字的边界，即可完成分割。
- 以上的列分割的原理，行分割原理与此相同，不再多作说明。
### 特征提取
- 完成了分割之后，就可以对每一个数字进行特征提取。其实现方法是，根据设置的判定线，读取一整行（列）的像素二值数据，观察其中像素值的变化，一次从0到1的像素变化，再加上一次从1到0的像素变化，就表明了一个“交点”的存在。另外还需记录每一个交点的横坐标，判断其交点位于图像左半侧还是右半侧，以便区别同类的数字（如2、3、5）。
- 以此遍历所有判定线上的像素变化情况，并记录各条判定线上的交点数目及位置。
### 特征匹配
- 在完成特征提取之后，按照此前给出的特征匹配表，使用case语句设置条件判断，将提取到的特征与每个数字的特征进行一一比对，直到确定了完全匹配的数字，即可将其确定为识别出的数字。

